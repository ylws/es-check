"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var c=arguments[t];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(e[l]=c[l])}return e},_createClass=function(){function e(e,t){for(var c=0;c<t.length;c++){var l=t[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(e,l.key,l)}}return function(t,c,l){return c&&e(t.prototype,c),l&&e(t,l),t}}(),CFCMCheckbox=function(){function e(t,c){_classCallCheck(this,e),this.initVal(t,c)}return _createClass(e,[{key:"getId",value:function(e){return document.getElementById(e)}},{key:"getClassAll",value:function(e){return document.querySelectorAll(e)}},{key:"remove",value:function(e){var t=e.parentNode;t&&t.removeChild(e)}},{key:"initVal",value:function(e,t){var c={father:".checkfather span",selected:"checked",select:"check",checktop:"checktop",init:{index:[],val:!0},multline:{flag:!1,classname:"",index:[]},inputflag:!1,disabled:!1,checkall:""};this.cfg={};_extends(this.cfg,c,e);this.cfg.arg=_typeof(arguments[0]),this.cfg.len=arguments.length,this.cfg.fn=t,this.cfg.multline.flag&&this.cfg.multline.index&&(this.cfg.init.index=this.cfg.multline.index),this.initCommonVal()}},{key:"initCommonVal",value:function(){var e=this,t=this.getClassAll(this.cfg.father);Array.prototype.slice.call(t).forEach(function(t,c){e.cfg.inputflag&&(t.querySelector("input[type=checkbox]").style.display="none"),e.cfg.init.index.forEach(function(l){l==c&&(e.cfg.inputflag?(t.querySelector("input[type=checkbox]").setAttribute("checked",e.cfg.init.val),t.setAttribute("class",e.cfg.selected)):t.setAttribute("class",e.cfg.selected))})}),this.clickEvent(),this.checkall()}},{key:"parents",value:function(e,t){return e.className==t?e:this.parents(e.parentNode,t)}},{key:"checkall",value:function(){var e=this;this.cfg.checkall&&(this.getId(this.cfg.checkall).onclick=function(){var t=this.getAttribute("class"),c=e.getClassAll(e.cfg.father);t==e.cfg.select?(this.setAttribute("class","checked"),Array.prototype.slice.call(c).forEach(function(t,c){e.cfg.inputflag?(t.setAttribute("class",e.cfg.selected),t.querySelector("input[type=checkbox]").setAttribute("checked",e.cfg.init.val)):t.setAttribute("class",e.cfg.selected)})):(this.setAttribute("class","check"),Array.prototype.slice.call(c).forEach(function(t,c){e.cfg.inputflag?(t.setAttribute("class",e.cfg.select),t.querySelector("input[type=checkbox]").removeAttribute("checked")):t.setAttribute("class",e.cfg.select)}))})}},{key:"clickEvent",value:function(){var e=this,t=this.cfg;if(!this.cfg.disabled){var c=this.getClassAll(this.cfg.father);Array.prototype.slice.call(c).forEach(function(l,n){l.onclick=function(){if(l.getAttribute("class")==e.cfg.select?(l.setAttribute("class",e.cfg.selected),e.cfg.inputflag&&l.querySelector("input[type=checkbox]").setAttribute("checked",e.cfg.init.val),e.cfg.multline?c.length==e.parents(l,t.checktop).querySelectorAll("."+e.cfg.selected).length&&e.cfg.checkall&&e.getId(e.cfg.checkall).click():c.length==l.parentNode.querySelectorAll("."+e.cfg.selected).length&&e.cfg.checkall&&e.getId(e.cfg.checkall).click()):(l.setAttribute("class",e.cfg.select),e.cfg.inputflag&&l.querySelector("input[type=checkbox]").removeAttribute("checked"),e.cfg.checkall&&e.getId(e.cfg.checkall).setAttribute("class",e.cfg.select)),1==e.cfg.len&&"function"===e.cfg.arg)e.cfg.fn();else if("function"==typeof e.cfg.fn){var n="",i="";e.cfg.fatheridclass?e.parents(l,e.cfg.mutline.classname.substring(1)).getAttribute("id")&&(n=e.parents(l,e.cfg.multline.classname.substring(1)).getAttribute("id")):l.parentNode.getAttribute("id")&&(n=l.parentNode.getAttribute("id")),e.cfg.inputflag&&l.querySelector("input[type=checkbox]").defaultValue&&(i=l.querySelector("input[type=checkbox]").defaultValue),console.log(i+"---"+n),n&&i?e.cfg.fn(n,i):n&&!i?e.cfg.fn(n):i&&!n?e.cfg.fn(i):e.cfg.fn()}}})}}}]),e}();
export function CFCMCheckbox(param) {
		return new CFCMCheckbox(param)
	}