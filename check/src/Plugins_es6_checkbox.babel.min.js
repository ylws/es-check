"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var c=arguments[e];for(var l in c)Object.prototype.hasOwnProperty.call(c,l)&&(t[l]=c[l])}return t},_createClass=function(){function t(t,e){for(var c=0;c<e.length;c++){var l=e[c];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(t,l.key,l)}}return function(e,c,l){return c&&t(e.prototype,c),l&&t(e,l),e}}(),CFCMCheckbox=function(){function t(e,c){_classCallCheck(this,t),this.initVal(e,c)}return _createClass(t,[{key:"getId",value:function(t){return document.getElementById(t)}},{key:"getClassAll",value:function(t){return document.querySelectorAll(t)}},{key:"remove",value:function(t){var e=t.parentNode;e&&e.removeChild(t)}},{key:"initVal",value:function(t,e){var c={father:".checkfather span",selected:"checked",select:"check",checktop:"checktop",init:{index:[],val:!0},multline:{flag:!1,classname:"",index:[]},inputflag:!1,disabled:!1,checkall:"",str:{},checkallflag:""};this.cfg={};_extends(this.cfg,c,t);this.cfg.arg=_typeof(arguments[0]),this.cfg.len=arguments.length,this.cfg.fn=e,this.cfg.multline.flag&&this.cfg.multline.index&&(this.cfg.init.index=this.cfg.multline.index),this.initCommonVal()}},{key:"initCommonVal",value:function(){var t=this,e=this.getClassAll(this.cfg.father);Array.prototype.slice.call(e).forEach(function(e,c){e.setAttribute("class",t.cfg.select),t.cfg.inputflag&&(e.querySelector("input[type=checkbox]").style.display="none",e.querySelector("input[type=checkbox]").removeAttribute("checked")),t.cfg.init.index.forEach(function(l){if(l==c){t.cfg.inputflag?(e.querySelector("input[type=checkbox]").setAttribute("checked",t.cfg.init.val),e.setAttribute("class",t.cfg.selected)):e.setAttribute("class",t.cfg.selected);var i=e.parentNode.getAttribute("id");null!=i&&(t.cfg.str[i.toString()]=i)}})}),this.cfg.checkall&&(this.cfg.checkallflag?this.getId(this.cfg.checkall).setAttribute("class",this.cfg.selected):this.getId(this.cfg.checkall).setAttribute("class",this.cfg.select)),this.clickEvent(),this.checkall()}},{key:"parents",value:function(t,e){return t.className==e?t:this.parents(t.parentNode,e)}},{key:"checkall",value:function(){var t=this;this.cfg.checkall&&(this.getId(this.cfg.checkall).onclick=function(){var e=this.getAttribute("class"),c=t.getClassAll(t.cfg.father);e==t.cfg.select?(t.cfg.checkallflag=!0,this.setAttribute("class","checked"),Array.prototype.slice.call(c).forEach(function(e,c){t.cfg.inputflag?(e.setAttribute("class",t.cfg.selected),e.querySelector("input[type=checkbox]").setAttribute("checked",t.cfg.init.val)):e.setAttribute("class",t.cfg.selected);var l=e.parentNode.getAttribute("id");null!=l&&(t.cfg.str[l]=l)})):(t.cfg.checkallflag="",this.setAttribute("class","check"),Array.prototype.slice.call(c).forEach(function(e,c){t.cfg.inputflag?(e.setAttribute("class",t.cfg.select),e.querySelector("input[type=checkbox]").removeAttribute("checked")):e.setAttribute("class",t.cfg.select)}),t.cfg.str={})})}},{key:"clickEvent",value:function(){var t=this,e=this.cfg;if(!this.cfg.disabled){var c=this.getClassAll(this.cfg.father);Array.prototype.slice.call(c).forEach(function(c,l){c.onclick=function(){var l=c.getAttribute("class"),i=this.parentNode.getAttribute("id");if(l==t.cfg.select?(null!=i&&(t.cfg.str[i]=i),c.setAttribute("class",t.cfg.selected),t.cfg.inputflag&&c.querySelector("input[type=checkbox]").setAttribute("checked",t.cfg.init.val),t.cfg.multline?t.getClassAll(t.cfg.father).length==t.parents(c,e.checktop).querySelectorAll("."+t.cfg.selected).length&&t.cfg.checkall&&t.getId(t.cfg.checkall).click():t.getClassAll(t.cfg.father).length==c.parentNode.querySelectorAll("."+t.cfg.selected).length&&t.cfg.checkall&&t.getId(t.cfg.checkall).click()):(null!=i&&delete t.cfg.str[i],c.setAttribute("class",t.cfg.select),t.cfg.inputflag&&c.querySelector("input[type=checkbox]").removeAttribute("checked"),t.cfg.checkall&&t.getId(t.cfg.checkall).setAttribute("class",t.cfg.select)),1==t.cfg.len&&"function"===t.cfg.arg)t.cfg.fn(t.cfg.str);else if("function"==typeof t.cfg.fn){var s="",n="";t.cfg.fatheridclass?t.parents(c,t.cfg.mutline.classname.substring(1)).getAttribute("id")&&(s=t.parents(c,t.cfg.multline.classname.substring(1)).getAttribute("id")):c.parentNode.getAttribute("id")&&(s=c.parentNode.getAttribute("id")),t.cfg.inputflag&&c.querySelector("input[type=checkbox]").defaultValue&&(n=c.querySelector("input[type=checkbox]").defaultValue),s&&n?t.cfg.fn(s,n,t.cfg.str):s&&!n?t.cfg.fn(s,t.cfg.str):n&&!s?t.cfg.fn(n,t.cfg.str):t.cfg.fn(t.cfg.str)}}})}}}]),t}();
export function CFCMCheckbox(param, fn) {
		return new CFCMCheckbox(param, fn)
	}